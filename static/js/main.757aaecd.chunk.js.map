{"version":3,"sources":["const/const.js","util.js","components/Poducts.js","actions/productActions.js","components/Filter.js","components/Cart.js","reducers/productReducer.js","store.js","App.js","index.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_CREATOR","FILTER_PRODUCTS_BY_PRICE","formatCurrency","num","Number","toFixed","toLocaleString","Products","props","openModal","product","setState","closeModal","state","this","fetchProducts","bottom","cascade","products","className","map","href","_id","onClick","title","price","addToCart","isOpen","onRequestClose","srs","img","alt","description","color","i","Component","connect","filteredItems","dispatch","a","fetch","res","json","data","type","payload","Filter","filteredProducts","length","value","sort","onChange","e","sortProducts","target","creator","filterProducts","items","filter","indexOf","sortedProducts","slice","b","Cart","handleInput","name","createOrder","preventDefault","order","firstName","lastName","email","address","cartItems","showCheckout","left","item","count","removeFromCart","reduce","c","right","onSubmit","required","require","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","action","applyMiddleware","thunk","App","info","alert","x","localStorage","setItem","JSON","stringify","alreadyInCart","forEach","push","produser","getItem","parse","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.757aaecd.chunk.js","sourcesContent":["export const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\r\nexport const FILTER_PRODUCTS_BY_CREATOR = \"FILTER_PRODUCTS_BY_CREATOR\";\r\nexport const FILTER_PRODUCTS_BY_PRICE = \"FILTER_PRODUCTS_BY_PRICE\";","export default function formatCurrency(num) {\r\n    return \"$\" + Number(num.toFixed(1)).toLocaleString() + \" \";\r\n  }","import React, { Component } from \"react\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Modal from \"react-modal\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport formatCurrency from \"../util\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchProducts } from \"../actions/productActions\";\r\n\r\nclass Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      product: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchProducts();\r\n  };\r\n  openModal = (product) => {\r\n    this.setState({ product });\r\n  };\r\n  closeModal = () => {\r\n    this.setState({ product: null });\r\n  };\r\n  render() {\r\n    const { product } = this.state;\r\n    return (\r\n      <div>\r\n        <Fade bottom cascade={true}>\r\n         {!this.props.products ? (\r\n            <div>Loading...</div>\r\n          ) : (\r\n            <ul className=\"products\">\r\n              {this.props.products.map((product) => (\r\n                <li key={product._id}>\r\n                  <div className=\"product\">\r\n                    <a\r\n                      href={\"#\" + product._id}\r\n                      onClick={() => this.openModal(product)}\r\n                    >\r\n                      {/* <img src={product.image} alt={product.title}></img> */}\r\n                      <p>{product.title}</p>\r\n                    </a>\r\n                    <div className=\"product-price\">\r\n                      <div>{formatCurrency(product.price)}</div>\r\n                      <button\r\n                        onClick={() => this.props.addToCart(product)}\r\n                        className=\"button primary\"\r\n                      >\r\n                        Add To Cart\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </Fade>\r\n        {product && (\r\n          <Modal isOpen={true} onRequestClose={this.closeModal}>\r\n            <Zoom>\r\n              <button className=\"close-modal\" onClick={this.closeModal}>\r\n                X\r\n              </button>\r\n              <div className=\"product-details\">\r\n                <img srs={product.img} alt={product.title}></img>\r\n                <div className=\"product-details-description\">\r\n                  <p>\r\n                    <strong>{product.title}</strong>\r\n                  </p>\r\n                  <p>{product.description}</p>\r\n                  <p>\r\n                    Colors:{\" \"}\r\n                    {product.color.map((i) => (\r\n                      <span>\r\n                        {\" \"}\r\n                        <button className=\"button\">{i}</button>\r\n                      </span>\r\n                    ))}\r\n                  </p>\r\n                  <div className=\"product-price\">\r\n                    <div>{formatCurrency(product.price)}</div>\r\n                    <botton\r\n                      className=\"button primary\"\r\n                      onClick={() => {\r\n                        this.props.addToCart(product);\r\n                        this.closeModal();\r\n                      }}\r\n                    >\r\n                      Add to Cart{\" \"}\r\n                    </botton>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Zoom>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({ products: state.products.filteredItems}), {\r\n  fetchProducts,\r\n})(Products);\r\n","import {\r\n  FETCH_PRODUCTS,\r\n  FILTER_PRODUCTS_BY_CREATOR,\r\n  FILTER_PRODUCTS_BY_PRICE,\r\n} from \"../const/const\";\r\n\r\nexport const fetchProducts = () => async (dispatch) => {\r\n  const res = await fetch(\"/api/products\");\r\n  const data = await res.json();\r\n\r\n  dispatch({\r\n    type: FETCH_PRODUCTS,\r\n    payload: data,\r\n  });\r\n};\r\n\r\nexport const filterProducts = (products, creator) => (dispatch) => {\r\n  dispatch({\r\n    type: FILTER_PRODUCTS_BY_CREATOR,\r\n    payload: {\r\n      creator: creator,\r\n      items:\r\n        creator === \"\"\r\n          ? products\r\n          : products.filter((i) => i.creator.indexOf(creator) >= 0),\r\n    },\r\n  });\r\n};\r\n\r\nexport const sortProducts = (filteredProducts, sort) => (dispatch) => {\r\n  const sortedProducts = filteredProducts.slice();\r\n  if (sort === \"Latest\") {\r\n    sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\r\n  } else {\r\n    sortedProducts.sort((a, b) =>\r\n      sort === \"lowest\"\r\n        ? a.price > b.price\r\n          ? 1\r\n          : -1\r\n        : a.price > b.price\r\n        ? -1\r\n        : 1\r\n    );\r\n  }\r\n  dispatch({\r\n    type: FILTER_PRODUCTS_BY_PRICE,\r\n    payload: {\r\n      sort: sort,\r\n      items: sortedProducts,\r\n    },\r\n  });\r\n};\r\n","import { connect } from 'react-redux';\r\nimport React, { Component } from 'react';\r\nimport {filterProducts, sortProducts } from \"../actions/productActions\";\r\n\r\n\r\nclass Filter extends Component {\r\n    render() {\r\n        return (\r\n            !this.props.filteredProducts ?(\r\n            <div>Loadin...</div>\r\n            ) :(\r\n            <div className =\"filter\">\r\n                {/* <input type=\"text\"  placeholder=\"search\"></input> */}\r\n                <div className=\"filter-result\">{this.props.filteredProducts.length} Products</div>\r\n                <div className = \"filter-sort\">Order{\" \"}\r\n                    <select value={this.props.sort} onChange={(e) => this.props.sortProducts(this.props.products, e.target.value)}>\r\n                    <option value=\"Latest\">Latest</option>\r\n                    <option value=\"lowest\">Lowest</option>\r\n                    <option value=\"highest\">Highest</option>\r\n                    </select>\r\n                </div>\r\n                <div className = \"filter-produser\">Produser\r\n                <select value={this.props.creator} onChange={(e) => this.props.filterProducts(this.props.products, e.target.value)}>\r\n                    <option value=\"All\" >All</option>\r\n                    <option value=\"Apple\">Apple</option>\r\n                    <option value=\"Samsung\">Samsung</option>\r\n                    <option value=\"Xiaomi\">Xiaomi</option>\r\n                    <option value=\"Google\">Google</option>\r\n                    <option value=\"One Plus\">One Plus</option>\r\n                </select>\r\n                </div>\r\n            </div>\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default connect(\r\n    (state) => ({\r\n      creator: state.products.creator,\r\n      sort: state.products.sort,\r\n      products: state.products.items,\r\n      filteredProducts: state.products.filteredItems,\r\n    }),\r\n    {\r\n      filterProducts,\r\n      sortProducts,\r\n    }\r\n  )(Filter);","import React, { Component } from \"react\";\r\nimport formatCurrency from \"../util\";\r\nimport Fade from \"react-reveal/Fade\";\r\n\r\nexport default class Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      address: \"\",\r\n      showCheckout: false,\r\n    };\r\n  }\r\n  handleInput = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  createOrder = (e) => {\r\n    e.preventDefault();\r\n    const order = {\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      email: this.state.email,\r\n      address: this.state.address,\r\n      cartItems: this.props.cartItems,\r\n    };\r\n    this.props.createOrder(order);\r\n  };\r\n\r\n  render() {\r\n    const { cartItems } = this.props;\r\n    return (\r\n      <div>\r\n        {cartItems.length === 0 ? (\r\n          <div className=\"cart cart-header\">Cart is empty</div>\r\n        ) : (\r\n          <div className=\"cart cart-header\">\r\n            You heve prduct {cartItems.length} in the cart\r\n          </div>\r\n        )}\r\n        <div>\r\n          <div className=\"cart\">\r\n            <Fade left cascade>\r\n              <ul className=\"cart-items\">\r\n                {cartItems.map((item) => (\r\n                  <li key={item._id}>\r\n                    <div>{item.title}</div>\r\n                    <div className=\"right\">\r\n                      {formatCurrency(item.price)} x {item.count}{\" \"}\r\n                      <button\r\n                        className=\"button\"\r\n                        onClick={() => this.props.removeFromCart(item)}\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </Fade>\r\n          </div>\r\n          {cartItems.length !== 0 && (\r\n            <div>\r\n              <div className=\"cart\">\r\n                <div className=\"total\">\r\n                  <div>\r\n                    Total:{\" \"}\r\n                    {formatCurrency(\r\n                      cartItems.reduce((a, c) => a + c.price * c.count, 0)\r\n                    )}\r\n                  </div>\r\n                  <button\r\n                    className=\"button primary\"\r\n                    onClick={() => {\r\n                      this.setState({ showCheckout: true });\r\n                    }}\r\n                  >\r\n                    Proceed\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {this.state.showCheckout && (\r\n                <Fade right cascade>\r\n                  <div className=\"cart\">\r\n                    <form\r\n                      onSubmit={this.createOrder}\r\n                      className=\"form-container\"\r\n                    >\r\n                      <ul>\r\n                        <li>\r\n                          <label>Email</label>\r\n                          <input\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          ></input>\r\n                        </li>\r\n                        <li>\r\n                          <label>First Name</label>\r\n                          <input\r\n                            name=\"firstName\"\r\n                            type=\"text\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          ></input>\r\n                        </li>\r\n                        <li>\r\n                          <label>Last Name</label>\r\n                          <input\r\n                            name=\"lastName\"\r\n                            type=\"text\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          ></input>\r\n                        </li>\r\n                        <li>\r\n                          <label>Address</label>\r\n                          <input\r\n                            name=\"address\"\r\n                            type=\"text\"\r\n                            required\r\n                            onChange={this.handleInput}\r\n                          ></input>\r\n                        </li>\r\n                        <li>\r\n                          <button type=\"submit\" className=\"button primary\">\r\n                            Checkout\r\n                          </button>\r\n                        </li>\r\n                      </ul>\r\n                    </form>\r\n                  </div>\r\n                </Fade>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_CREATOR, FILTER_PRODUCTS_BY_PRICE } = require(\"../const/const\");\r\n\r\nexport const productsReducer = (state= {}, action)=>{\r\n\r\n    switch(action.type){\r\n        case FILTER_PRODUCTS_BY_CREATOR:\r\n            return{\r\n                ...state,\r\n                creator: action.payload.creator,\r\n                filteredItems: action.payload.items,\r\n            };\r\n        case FILTER_PRODUCTS_BY_PRICE:\r\n            return {\r\n                ...state,\r\n                sort: action.payload.sort,\r\n                filteredItems: action.payload.items,\r\n            };\r\n        case FETCH_PRODUCTS:\r\n            return { items:action.payload, \r\n                filteredItems: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","  \r\nimport { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { productsReducer } from \"./reducers/productReducer\";\r\n\r\nconst initialState = {};\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  combineReducers({\r\n    products: productsReducer,\r\n    \r\n  }),\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\nexport default store;","import React from \"react\"\nimport Products from \"./components/Poducts\"\nimport data from \"./product.json\"\nimport Filter  from \"./components/Filter\";\nimport Cart from \"./components/Cart\";\nimport store from \"./store\"\nimport { Provider } from \"react-redux\";\n\nclass App extends React.Component {\n  constructor(){\n    super();\n    this.state = {\n      products: data.products,\n      produser:\"\",\n      sort:\"\",\n      cartItems:localStorage.getItem(\"cartItems\")? JSON.parse(localStorage.getItem(\"cartItems\")): [],\n    };\n  }\n\n  createOrder = (order) => {\n    let info = order.firstName + \" \" +  order.lastName + \"?\"\n    alert(\"Save order \" + info);\n    \n  };\n\n  removeFromCart = (product) =>{\n    const cartItems = this.state.cartItems.slice();\n    this.setState({\n      cartItems: cartItems.filter(x=>x._id !==product._id),\n    });\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems.filter(x=>x._id !==product._id))\n    );\n };\n\n\n  addToCart = (product) => {\n    const cartItems = this.state.cartItems.slice();\n    let alreadyInCart = false;\n    cartItems.forEach(item =>{\n      if(item._id === product._id) {\n        item.count ++;\n        alreadyInCart = true;\n      }\n    });\n    if(!alreadyInCart){\n      cartItems.push({...product, count: 1});\n    }\n    this.setState({cartItems});\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  };\n\n  // sortProducts = (event) =>{\n  //   const sort = event.target.value;\n  //   this.setState((state) =>({\n  //     sort:sort,\n  //     products: this.state.products\n  //     .slice()\n  //     .sort((a,b) =>\n  //       sort === \"lowest\"\n  //         ? a.price > b.price\n  //           ? 1\n  //           :-1\n  //         : sort === \"highest\"\n  //           ? a.price < b.price\n  //             ? 1\n  //             :-1\n  //         : a._id > b._id\n  //         ? 1\n  //         :-1\n  //     ), \n  //   }));\n  // }\n  // filterProducts = (event) => {\n  //   this.setState({\n  //     produser:event.target.value,\n  //     products:data.products.filter(\n  //       (product) => product.creator.indexOf(event.target.value)>=0\n  //       ),\n  //   });\n  // };\n\n  render() {\n    return (\n      <Provider store={store}>\n      <div className=\"app-conatiner\">\n        <header className=\"\">\n          <a href=\"/\">Project shop</a>\n        </header>\n        <main className=\"\">\n          <div className=\"content\">\n            <div className=\"main\">\n              \n              <Filter></Filter>\n              <Products\n              addToCart={this.addToCart}\n              ></Products>\n            </div>\n            <div className=\"sidebar\">\n              <Cart cartItems = {this.state.cartItems}\n              removeFromCart={this.removeFromCart}\n              createOrder={this.createOrder}/>\n            </div>\n          </div>\n        </main>\n        <footer className=\"\">test</footer>\n      </div>\n      </Provider>\n    );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}