(this["webpackJsonpreact-project-shop"]=this["webpackJsonpreact-project-shop"]||[]).push([[0],{12:function(e,t,i){"use strict";i.r(t),i.d(t,"FETCH_PRODUCTS",(function(){return a})),i.d(t,"FILTER_PRODUCTS_BY_CREATOR",(function(){return r})),i.d(t,"FILTER_PRODUCTS_BY_PRICE",(function(){return o}));var a="FETCH_PRODUCTS",r="FILTER_PRODUCTS_BY_CREATOR",o="FILTER_PRODUCTS_BY_PRICE"},29:function(e){e.exports=JSON.parse('{"products":[{"_id":1,"title":"iPhone 12","price":899,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://profile.ru/wp-content/uploads/2020/09/iPhone-12.jpg","creator":"Apple All","color":["balck","wite"]},{"_id":2,"title":"iPhone 12 mini","price":799,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_500/uploads/shop/8/e/8e90d4590a2e6092795cef266ecba090.jpg","creator":"Apple All","color":["balck","wite"]},{"_id":3,"title":"iPhone 12 Pro","price":999,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_500/uploads/shop/f/3/f3544d524096a2da7effed0face0e849.jpg","creator":"Apple All","color":["balck","wite"]},{"_id":4,"title":"iPhone 12 Pro max","price":1099,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_500/uploads/shop/a/2/a2f8e55b4dc415ee765f4a8f43fec27c.jpg","creator":"Apple All","color":["balck","wite"]},{"_id":5,"title":"Samsung Galaxy Note 20","price":799,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/f/0/f0779b018cfa3c32025923782b846e9e.jpg","creator":"Samsung All","color":["balck","wite"]},{"_id":6,"title":"Samsung Galaxy Note 20 Ultra","price":999,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/7/d/7d42afbef57e5fff09ba15be24e8f06f.jpg","creator":"Samsung All","color":["balck","wite"]},{"_id":7,"title":"Samsung Galaxy S 20","price":800,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/9/a/9a073c59bd3e4178fd46ef4df712fd52.jpg","creator":"Samsung All","color":["balck","wite"]},{"_id":8,"title":"Samsung Galaxy S 20 Ultra","price":900,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/d/b/dbbe192ade5b9b538760fc9341887729.jpg","creator":"Samsung All","color":["balck","wite"]},{"_id":9,"title":"Google Pixel 5","price":799,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"/img/pixel-5.jpg","creator":"Google All","color":["balck","wite"]},{"_id":10,"title":"Xiaomi Mi 10","price":499,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/f/f/ff2706f1d52b76450d06456be46c4c41.jpg","creator":"Xiaomi All","color":["balck","wite"]},{"_id":11,"title":"Xiaomi Mi 10 pro","price":699,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"../publi/img/dress1.jpg","creator":"Xiaomi All","color":["balck","wite"]},{"_id":12,"title":"Xiaomi Mi 10T","price":399,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/a/5/a5c04e01d90936b8366a014c0e7ce646.jpg","creator":"Xiaomi All","color":["balck","wite"]},{"_id":13,"title":"Xiaomi Mi 10T Pro","price":599,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/3/e/3efa18c866b1cda848f6977eaea5ee2a.jpg","creator":"Xiaomi All","color":["balck","wite"]},{"_id":14,"title":"One Plus 8","price":799,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"../public/img/op-8t.webp","creator":"One Plus All","color":["balck","wite"]},{"_id":15,"title":"One Plus 8T","price":999,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","img":"https://i.citrus.ua/imgcache/size_800/uploads/shop/e/1/e185b750e47d5dc47474c07572e236fb.jpg","creator":"One Plus All","color":["balck","wite"]}]}')},36:function(e,t,i){},53:function(e,t,i){"use strict";i.r(t);var a=i(0),r=i(1),o=i.n(r),c=i(10),s=i.n(c),n=(i(36),i(6)),l=i(2),u=i(3),d=i(5),m=i(4),p=i(11),b=i.n(p),j=i(25),h=i.n(j),f=i(26),O=i.n(f);function x(e){return"$"+Number(e.toFixed(1)).toLocaleString()+" "}var g=i(9),v=i(20),q=i.n(v),_=i(28),C=i(12),N=function(e){Object(d.a)(i,e);var t=Object(m.a)(i);function i(e){var a;return Object(l.a)(this,i),(a=t.call(this,e)).openModal=function(e){a.setState({product:e})},a.closeModal=function(){a.setState({product:null})},a.state={product:null},a}return Object(u.a)(i,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.state.product;return Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{bottom:!0,cascade:!0,children:this.props.products?Object(a.jsx)("ul",{className:"products",children:this.props.products.map((function(t){return Object(a.jsx)("li",{children:Object(a.jsxs)("div",{className:"product",children:[Object(a.jsx)("a",{href:"#"+t._id,onClick:function(){return e.openModal(t)},children:Object(a.jsx)("p",{children:t.title})}),Object(a.jsxs)("div",{className:"product-price",children:[Object(a.jsx)("div",{children:x(t.price)}),Object(a.jsx)("button",{onClick:function(){return e.props.addToCart(t)},className:"button primary",children:"Add To Cart"})]})]})},t._id)}))}):Object(a.jsx)("div",{children:"Loading..."})}),t&&Object(a.jsx)(h.a,{isOpen:!0,onRequestClose:this.closeModal,children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)("button",{className:"close-modal",onClick:this.closeModal,children:"X"}),Object(a.jsxs)("div",{className:"product-details",children:[Object(a.jsx)("img",{srs:t.img,alt:t.title}),Object(a.jsxs)("div",{className:"product-details-description",children:[Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:t.title})}),Object(a.jsx)("p",{children:t.description}),Object(a.jsxs)("p",{children:["Colors:"," ",t.color.map((function(e){return Object(a.jsxs)("span",{children:[" ",Object(a.jsx)("button",{className:"button",children:e})]})}))]}),Object(a.jsxs)("div",{className:"product-price",children:[Object(a.jsx)("div",{children:x(t.price)}),Object(a.jsxs)("botton",{className:"button primary",onClick:function(){e.props.addToCart(t),e.closeModal()},children:["Add to Cart"," "]})]})]})]})]})})]})}}]),i}(r.Component),P=Object(g.b)((function(e){return{products:e.products.filteredItems}}),{fetchProducts:function(){return function(){var e=Object(_.a)(q.a.mark((function e(t){var i,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products");case 2:return i=e.sent,e.next=5,i.json();case 5:a=e.sent,t({type:C.FETCH_PRODUCTS,payload:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(N),S=i(29),E=function(e){Object(d.a)(i,e);var t=Object(m.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){var e=this;return this.props.filteredProducts?Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsxs)("div",{className:"filter-result",children:[this.props.filteredProducts.length," Products"]}),Object(a.jsxs)("div",{className:"filter-sort",children:["Order"," ",Object(a.jsxs)("select",{value:this.props.sort,onChange:function(t){return e.props.sortProducts(e.props.products,t.target.value)},children:[Object(a.jsx)("option",{value:"Latest",children:"Latest"}),Object(a.jsx)("option",{value:"lowest",children:"Lowest"}),Object(a.jsx)("option",{value:"highest",children:"Highest"})]})]}),Object(a.jsxs)("div",{className:"filter-produser",children:["Produser",Object(a.jsxs)("select",{value:this.props.creator,onChange:function(t){return e.props.filterProducts(e.props.products,t.target.value)},children:[Object(a.jsx)("option",{value:"All",children:"All"}),Object(a.jsx)("option",{value:"Apple",children:"Apple"}),Object(a.jsx)("option",{value:"Samsung",children:"Samsung"}),Object(a.jsx)("option",{value:"Xiaomi",children:"Xiaomi"}),Object(a.jsx)("option",{value:"Google",children:"Google"}),Object(a.jsx)("option",{value:"One Plus",children:"One Plus"})]})]})]}):Object(a.jsx)("div",{children:"Loadin..."})}}]),i}(r.Component),I=Object(g.b)((function(e){return{creator:e.products.creator,sort:e.products.sort,products:e.products.items,filteredProducts:e.products.filteredItems}}),{filterProducts:function(e,t){return function(i){i({type:C.FILTER_PRODUCTS_BY_CREATOR,payload:{creator:t,items:""===t?e:e.filter((function(e){return e.creator.indexOf(t)>=0}))}})}},sortProducts:function(e,t){return function(i){var a=e.slice();"Latest"===t?a.sort((function(e,t){return e._id>t._id?1:-1})):a.sort((function(e,i){return"lowest"===t?e.price>i.price?1:-1:e.price>i.price?-1:1})),i({type:C.FILTER_PRODUCTS_BY_PRICE,payload:{sort:t,items:a}})}}})(E),T=i(13),y=function(e){Object(d.a)(i,e);var t=Object(m.a)(i);function i(e){var a;return Object(l.a)(this,i),(a=t.call(this,e)).handleInput=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.createOrder=function(e){e.preventDefault();var t={firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email,address:a.state.address,cartItems:a.props.cartItems};a.props.createOrder(t)},a.state={email:"",firstName:"",lastName:"",address:"",showCheckout:!1},a}return Object(u.a)(i,[{key:"render",value:function(){var e=this,t=this.props.cartItems;return Object(a.jsxs)("div",{children:[0===t.length?Object(a.jsx)("div",{className:"cart cart-header",children:"Cart is empty"}):Object(a.jsxs)("div",{className:"cart cart-header",children:["You heve prduct ",t.length," in the cart"]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"cart",children:Object(a.jsx)(b.a,{left:!0,cascade:!0,children:Object(a.jsx)("ul",{className:"cart-items",children:t.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("div",{children:t.title}),Object(a.jsxs)("div",{className:"right",children:[x(t.price)," x ",t.count," ",Object(a.jsx)("button",{className:"button",onClick:function(){return e.props.removeFromCart(t)},children:"Remove"})]})]},t._id)}))})})}),0!==t.length&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"cart",children:Object(a.jsxs)("div",{className:"total",children:[Object(a.jsxs)("div",{children:["Total:"," ",x(t.reduce((function(e,t){return e+t.price*t.count}),0))]}),Object(a.jsx)("button",{className:"button primary",onClick:function(){e.setState({showCheckout:!0})},children:"Proceed"})]})}),this.state.showCheckout&&Object(a.jsx)(b.a,{right:!0,cascade:!0,children:Object(a.jsx)("div",{className:"cart",children:Object(a.jsx)("form",{onSubmit:this.createOrder,className:"form-container",children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{name:"email",type:"email",required:!0,onChange:this.handleInput})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)("input",{name:"firstName",type:"text",required:!0,onChange:this.handleInput})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)("input",{name:"lastName",type:"text",required:!0,onChange:this.handleInput})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:"Address"}),Object(a.jsx)("input",{name:"address",type:"text",required:!0,onChange:this.handleInput})]}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{type:"submit",className:"button primary",children:"Checkout"})})]})})})})]})]})]})}}]),i}(r.Component),R=i(7),k=i(30),L=i(12),D=L.FETCH_PRODUCTS,w=L.FILTER_PRODUCTS_BY_CREATOR,A=L.FILTER_PRODUCTS_BY_PRICE,U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,F=Object(R.e)(Object(R.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(n.a)(Object(n.a)({},e),{},{creator:t.payload.creator,filteredItems:t.payload.items});case A:return Object(n.a)(Object(n.a)({},e),{},{sort:t.payload.sort,filteredItems:t.payload.items});case D:return{items:t.payload,filteredItems:t.payload};default:return e}}}),{},U(Object(R.a)(k.a))),M=function(e){Object(d.a)(i,e);var t=Object(m.a)(i);function i(){var e;return Object(l.a)(this,i),(e=t.call(this)).createOrder=function(e){var t=e.firstName+" "+e.lastName+"?";alert("Save order "+t)},e.removeFromCart=function(t){var i=e.state.cartItems.slice();e.setState({cartItems:i.filter((function(e){return e._id!==t._id}))}),localStorage.setItem("cartItems",JSON.stringify(i.filter((function(e){return e._id!==t._id}))))},e.addToCart=function(t){var i=e.state.cartItems.slice(),a=!1;i.forEach((function(e){e._id===t._id&&(e.count++,a=!0)})),a||i.push(Object(n.a)(Object(n.a)({},t),{},{count:1})),e.setState({cartItems:i}),localStorage.setItem("cartItems",JSON.stringify(i))},e.state={products:S.products,produser:"",sort:"",cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},e}return Object(u.a)(i,[{key:"render",value:function(){return Object(a.jsx)(g.a,{store:F,children:Object(a.jsxs)("div",{className:"app-conatiner",children:[Object(a.jsx)("header",{className:"",children:Object(a.jsx)("a",{href:"/",children:"Project shop"})}),Object(a.jsx)("main",{className:"",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(I,{}),Object(a.jsx)(P,{addToCart:this.addToCart})]}),Object(a.jsx)("div",{className:"sidebar",children:Object(a.jsx)(y,{cartItems:this.state.cartItems,removeFromCart:this.removeFromCart,createOrder:this.createOrder})})]})}),Object(a.jsx)("footer",{className:"",children:"test"})]})})}}]),i}(o.a.Component);s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.757aaecd.chunk.js.map